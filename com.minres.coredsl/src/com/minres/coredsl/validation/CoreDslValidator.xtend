/*
 * generated by Xtext 2.10.0
 */
package com.minres.coredsl.validation

import com.minres.coredsl.coreDsl.CoreDslPackage
import com.minres.coredsl.coreDsl.Expression
import org.eclipse.xtext.validation.Check

import static extension com.minres.coredsl.typing.TypeProvider.*

/**
 * This class contains custom validation rules. 
 *
 * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#validation
 */
class CoreDslValidator extends AbstractCoreDslValidator {
	
	protected static val ISSUE_CODE_PREFIX = "com.minres.coredsl."
	public static val TYPE_MISMATCH = ISSUE_CODE_PREFIX + "TypeMismatch"
		
	@Check
	def checkType(Expression e) {
	    if(e.typeFor===null)
                error("incompatible types used",
                    CoreDslPackage.Literals.EXPRESSION__EXPRESSIONS,
                    TYPE_MISMATCH
                )                 
	}
}
